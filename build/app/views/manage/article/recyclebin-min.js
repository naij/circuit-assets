KISSY.add("app/views/manage/article/recyclebin",function(t,e,a,i,l,s,n,o){var r=s.all;return function(t){return t.prototype.template='<div class="page-header clearfix"> <div class=title-bar> <h2 class=title>\u6587\u7ae0\u56de\u6536\u7ad9</h2> </div> </div> <div class="page-body table-container"> <table class=table bx-name="tables" bx-tmpl="list" bx-datakey="list"> <thead> <tr {{^list}}class=no-data{{/list}}> <th class=left>\u6587\u7ae0\u540d\u79f0</th> <th class=left width=150>\u5220\u9664\u65f6\u95f4</th> <th class=center width=100>\u64cd\u4f5c</th> </tr> </thead> <tbody> {{#list}} <tr> <td class=left>{{title}}</td> <td class=left>{{list_updatedAt}}</td> <td class=center> <a href="/manage/article/edit?id={{id}}" class=color-blue>\u7f16\u8f91</a> <a href="#" mx-click="del{id:{{id}}}" class=color-blue>\u5f7b\u5e95\u5220\u9664</a> </td> </tr> {{/list}} {{^list}} <tr class=none> <td colspan=4> \u6682\u65e0\u6570\u636e </td> </tr> {{/list}} </tbody> </table> <div class=tfoot> <div id=J_pagination bx-name="pagination" class=pagination bx-config="{count:{{totalCount}},index:{{pageNo}},size:{{pageSize}},sizes:[50],simplify:true,statistics:true,sizeChange:false,jump:false,goTo:false}"> </div> </div>',t}(e.extend({locationChange:function(){this.render()},render:function(){var t=this,e=t.location,i=e.params,l=i.pageNo||1,s=i.pageSize||50;t.manage(a.fetchAll([{name:"article_removed_list",urlParams:{pageNo:l,pageSize:s}}],function(e,a){var i=a.get("data");t.setViewPagelet({list:i.list,pageNo:l,pageSize:s,totalCount:i.totalCount})}))},"del<click>":function(t){t.halt();var e=this,i=r("#"+t.currentId).parent("tr").offset().top,l=n.getDefaultDialogConfig({width:400,top:i}),s="app/views/common/confirm",o={confirmFn:function(){e.manage(a.fetchAll([{name:"article_remove_complete",postParams:{id:t.params.id}}],function(){n.hideDialog(),e.render()}))},cancelFn:function(){n.hideDialog()},confirmTitle:"\u5f7b\u5e95\u5220\u9664\u6587\u7ae0",confirmContent:"\u6b64\u8fc7\u7a0b\u4e0d\u53ef\u9006\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c\uff01"};n.showDialog(l,s,o)},renderer:{list:{updatedAt:function(){return o(this.updatedAt).format("YYYY-MM-DD HH:mm:ss")}}}}))},{requires:["mxext/view","app/models/modelmanager","magix/vom","magix/router","node","app/util/util","app/libs/moment"]});