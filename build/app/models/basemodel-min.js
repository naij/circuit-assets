KISSY.add("app/models/basemodel",function(a,e,s,t,r){return s.extend({parse:function(a){return a},sync:function(s){var t,o=this,n=o.get("url"),l=o.get("options")||{},i=l.type||"GET",u=l.jsonp,c=l.async,d=l.dataType||"json",p=l.noVerify;"GET"===i.toUpperCase()?(o.setUrlParams("t",a.now()),t=o.getUrlParams()):(o.setPostParams("_csrf",e.local("csrf")),t=o.getPostParams());var m={url:n,type:i,data:t,dataType:d,async:c===!1?!1:!0,success:function(a){if("json"==d){if(p)return void s(null,a);200==a.code?s(null,{data:a.data}):(r.showGlobalTip(a.message),s(a.message||"request error"))}else try{s(null,{data:a.data})}catch(e){r.showGlobalTip(e.message),s(e.message||"request error")}},error:function(a,e,s){403==s.status&&(window.location.href="#!/manage/login")}};return u&&(m.jsonp=u===!0?"_c":u),KISSY.io(m)}})},{requires:["magix/magix","mxext/model","ajax","app/util/util"]});